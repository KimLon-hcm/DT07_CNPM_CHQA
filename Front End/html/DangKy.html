<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>G9sport</title>
    <link href="../CSS/bootstrap.min.css " rel="stylesheet" />
    <link href="../CSS/DangKy.css" rel="stylesheet" />
    <link href="../CSS/navbar.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    
  </head>
  <!-- Phần navbar và footer lặp lại như Trang Home-->
  <body>
    <!-- top bar -->


  
  <div class="topbar fixed-top" style="z-index: 1030;"> 
    AUTOMATIC CODE: <b>SEP20JS</b> | GIÀY/TRANG SỨC GIẢM 20% KHI MUA KÈM TÚI XÁCH <a href="#">NGUYÊN GIÁ</a>
  </div>

  <!-- navbar -->
  <nav id="mainNav" class="navbar navbar-expand-lg  fixed-top " style="top:70px; height: 80px; z-index: 1030;">
    <div class="container">
      <a class="navbar-brand fw-bold" href="../html/HOME.html">OWE</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
         </li>
                                                <!-- MENU----->
<li class="dropdown nav-item"> 
    <a class=" nav-link" type="button"  
id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" href="#">ÁO</a> 
    <ul class="dropdown-menu p-4 " aria-labelledby="dropdownMenuButton"  > 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Another action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Something else here</a></li> 
         <li style="padding: 5px;"><a class="dropdown-item" href="#">Action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Another action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Something else here</a></li> 
    </ul> 
</li>

<li class="dropdown nav-item"> 
    <a class=" nav-link" type="button"  
id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" href="#">QUẦN</a> 
    <ul class="dropdown-menu p-4 " aria-labelledby="dropdownMenuButton"  > 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Another action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Something else here</a></li> 
         <li style="padding: 5px;"><a class="dropdown-item" href="#">Action</a></li> 

    </ul> 
</li>

<li class="dropdown nav-item"> 
    <a class=" nav-link" type="button"  
id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" href="#">PHỤ KIỆN</a> 
    <ul class="dropdown-menu p-4 " aria-labelledby="dropdownMenuButton"  > 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">NÓN</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">CÀ VẠT</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">THẮT LƯNG</a></li> 
         <li style="padding: 5px;"><a class="dropdown-item" href="#">Action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Another action</a></li> 
        <li style="padding: 5px;"><a class="dropdown-item" href="#">Something else here</a></li> 
    </ul> 
</li>
        
          <li class="nav-item"><a class="nav-link" href="#">FLASH SALE</a></li>
          <li class="nav-item"><a class="nav-link" href="#">STOCKISTS</a></li>
          <li class="nav-item"><a class="nav-link" href="#">VỀ OWE</a></li>
        </ul>
       
      </div>
    </div>
  </nav>

  

    <!-- Form đăng kí gần giống như form đăng nhập-->

    <div class="login-wrapper">
      <div class="login-form">
        <h2 class="text-center mb-4">Đăng Ký Tài Khoản</h2>
        <form id="signupForm">
          <div class="mb-3">
            <label for="username" class="form-label">Tên đăng nhập</label>
            <input
              type="text"
              class="form-control"
              id="username"
              name="username"
              placeholder="Nhập tên đăng nhập"
              required
            />
            <div class="invalid-feedback">Vui lòng nhập tên đăng nhập.</div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              placeholder="Nhập email"
              required
            />
            <div class="invalid-feedback">Email không hợp lệ.</div>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Mật khẩu</label>
            <input
              type="password"
              class="form-control"
              id="password"
              name="password"
              placeholder="Nhập mật khẩu"
              required
              minlength="6"
            />
            <div class="invalid-feedback">
              Mật khẩu phải có ít nhất 6 ký tự.
            </div>
          </div>
          <div class="mb-3">
            <label for="confirmPassword" class="form-label"
              >Xác nhận mật khẩu</label
            >
            <input
              type="password"
              class="form-control"
              id="confirmPassword"
              name="confirmPassword"
              placeholder="Nhập lại mật khẩu"
              required
            />
            <div class="invalid-feedback">Mật khẩu không khớp.</div>
          </div>
          <div class="mb-3">
            <label for="phone" class="form-label">Số điện thoại</label>
            <input
              type="tel"
              class="form-control"
              id="phone"
              name="phone"
              placeholder="Nhập số điện thoại"
              pattern="^\d{10}$"
              required
            />
            <div class="invalid-feedback">
              Vui lòng nhập số điện thoại hợp lệ (10 số).
            </div>
          </div>
          <div class="mb-3">
            <label for="address" class="form-label">Địa chỉ</label>
            <textarea
              class="form-control"
              id="address"
              name="address"
              rows="3"
              placeholder="Nhập địa chỉ"
              required
            ></textarea>
            <div class="invalid-feedback">Vui lòng nhập địa chỉ.</div>
          </div>
          <button type="submit" class="btn btn-primary w-100">Đăng Ký</button>
          <p class="text-center mt-3">
            Đã có tài khoản?
            <a href="DangNhap.html" class="text-decoration-none">Đăng nhập</a>
          </p>
        </form>
      </div>
    </div>
   
      <footer class="bg-light text-dark pt-5 pb-4 mt-5 border-top">
  <div class="container">
    <div class="row">
      <!-- Liên kết -->
      <div class="col-md-4 mb-4">
        <h6 class="fw-bold mb-3">LIÊN KẾT</h6>
        <ul class="list-unstyled">
          <li><a href="#" class="text-dark text-decoration-none d-block mb-2">Tìm kiếm</a></li>
          <li><a href="#" class="text-dark text-decoration-none d-block mb-2">Liên hệ</a></li>
          <li><a href="#" class="text-dark text-decoration-none d-block mb-2">Vận chuyển</a></li>
          <li><a href="#" class="text-dark text-decoration-none d-block mb-2">Đổi hàng</a></li>
          <li><a href="#" class="text-dark text-decoration-none d-block">Chính sách bảo mật</a></li>
        </ul>
      </div>

      <!-- Fifth -->
      <div class="col-md-4 mb-4 text-center">
        <h6 class="fw-bold mb-3">OWE</h6>
        <p class="small text-muted">
          THE SPIRIT OF BEING IN THE MIDDLE OF SOMETHING,<br>
          EMBRACING ALL THE HIGH AND LOW OF LIFE AS<br>
          ELEMENTARY BEAUTY.
        </p>
        <p class="fw-bold">0 1 2 3 4 5 6 7 8 9 10</p>
        <p class="fst-italic">"IN THE MIDDLE OF SOMETHING"</p>
      </div>

      <!-- Liên hệ -->
      <div class="col-md-4 mb-4">
        <h6 class="fw-bold mb-3">LIÊN HỆ</h6>
        <p class="mb-1"><strong>Email:</strong> <a href="mailto:contact@chautfifth.com" class="text-dark text-decoration-none">contact@chautfifth.com</a></p>
        <p class="mb-1"><strong>Điện thoại:</strong> <a href="tel:0336174371" class="text-dark text-decoration-none">0336174371</a> (7.30AM - 9.30PM)</p>
        <p class="mb-1">140 Lê Trọng Tấn, Tây Thạnh, Tân Phú, Hồ Chí Minh 700000, Việt Nam </p>


        
      </div>
    </div>

    <div class="row mt-4">
      <div class="col text-center">
        <small class="text-muted">© 2025 - CHAUTFIFTH. All rights reserved.</small>
      </div>
    </div>
  </div>
</footer>
    </footer>
    <!-- JavaScript xử lý đăng ký và localStorage-->
    <script>
      // Lấy form có id là "signupForm"
      const form = document.getElementById("signupForm");
      // Lấy ô input tên đăng nhập (username)
      const username = document.getElementById("username");
      // Lấy ô input email
      const email = document.getElementById("email");
      // Lấy ô input mật khẩu
      const password = document.getElementById("password");
      // Lấy ô input xác nhận lại mật khẩu
      const confirmPassword = document.getElementById("confirmPassword");
      // Lấy ô input số điện thoại
      const phone = document.getElementById("phone");
      // Lấy ô input địa chỉ
      const address = document.getElementById("address");

      // Hàm kiểm tra mật khẩu và xác nhận mật khẩu có khớp không
      function passwordsMatch() {
        return password.value === confirmPassword.value;
      }

      // Hàm lưu user vào localStorage
      function saveUser(user) {
        // Lấy danh sách user hiện có
        const users = JSON.parse(localStorage.getItem("users")) || [];
        // Kiểm tra username hoặc email đã tồn tại chưa
        const exists = users.some(
          (u) => u.username === user.username || u.email === user.email
        );
        if (exists) {
          return false; // Không lưu vì user/email đã tồn tại
        }
        // Thêm user mới vào mảng và lưu lại vào localStorage
        users.push(user);
        localStorage.setItem("users", JSON.stringify(users));
        return true;
      }

      // Khi người dùng nhập lại mật khẩu, kiểm tra có khớp không
      confirmPassword.addEventListener("input", () => {
        if (!passwordsMatch()) {
          // Báo lỗi nếu mật khẩu không khớp
          confirmPassword.setCustomValidity("Mật khẩu không khớp");
        } else {
          // Không có lỗi nếu mật khẩu khớp
          confirmPassword.setCustomValidity("");
        }
      });
      // Xử lý sự kiện submit form
      form.addEventListener("submit", function (e) {
        e.preventDefault(); // Ngăn chặn reload
        // Kiểm tra tính hợp lệ của các ràng buộc
        if (!form.checkValidity()) {
          form.classList.add("was-validated"); // Thêm lớp Bootstrap để hiển thị lỗi
          return;
        }
        // Kiểm tra mật khẩu và xác nhận có khớp không
        if (!passwordsMatch()) {
          confirmPassword.reportValidity(); // Hiển thị lỗi(nếu có)
          return;
        }

        // Tạo user chứa thông tin đã nhập
        const newUser = {
          username: username.value.trim(),
          email: email.value.trim(),
          password: password.value,
          phone: phone.value.trim(),
          address: address.value.trim(),
        };
        // kiểm tra hàm lưu user, nếu trả về false tức là trùng tên/email
        if (!saveUser(newUser)) {
          alert("Tên đăng nhập hoặc email đã tồn tại.");
          return;
        }
        // Thông báo đăng ký thành công

        form.reset();
        form.classList.remove("was-validated");
        alert("Đăng kí thành công");
        // Chuyển sang trang đăng nhập
        window.location.href = "../html/DangNhap.html";
      });
      
    </script>
    
    <script src="../JS/bootstrap.bundle.min.js"></script>
  </body>
</html>
